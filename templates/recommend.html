{% extends 'template.html' %}

{% block content%}

<div class="container" id="reccomender_box">
<h2>
  Input up to 5 movies
</h2>
<div class="tagtacular_basic blue" id="tagtacular_9" style="align-content: center"></div>
<div style="font-size:1.5em; text-align:center">
  <button class="button5" type="button" onclick="processMovies()">Recommend Movies</button>
</div>
<script type="text/javascript">
<<<<<<< HEAD
var userInputtedMovies=[];
=======

var myMovieArrayString = '{{my_movie_list|tojson}}';
var myMovieArray= myMovieArrayString.split(",");
var lengthOfMovieArray = '{{list_len}}';
for(i=0; i< lengthOfMovieArray; i++){
  myMovieArray[i] = myMovieArray[i].replace(/[\[\]"]+/g,'');
  console.log(myMovieArray[i]);
}
>>>>>>> 8d0e9f2b0cf708be31fa21f9983e6df1e537231c

var tags9 = $('#tagtacular_9').tagtacular({
		entityId: 109,
    entityTags: [],
    systemTags: myMovieArray,
  
		configEditTrayFirst: true,
		configLimitToExisting: true,
		configShowAddButton: false,
    configShowSwitchButton: false,
  });

  function processMovies(){
<<<<<<< HEAD
    
  var p = document.createElement("p");
  p.innerHTML = JSON.stringify(tags9.getEntityTags());
  document.body.appendChild(p);

  userInputtedMovies=tags9.getEntityTags();
  var input = {
    userInputtedMovies : userInputtedMovies.value
  };
  console.log(JSON.stringify(userInputtedMovies));
  fetch(`${window.origin}/process`,{
    method: "POST",
    credentials: "include",
    body: JSON.stringify(userInputtedMovies),
    cache: "no-cache",
    headers: new Headers({
        "content-type": "application/json"
    })
  })
=======
    //var p = document.createElement("p");
    //p.innerHTML = JSON.stringify(tags9.getEntityTags());
    //document.body.appendChild(p);
    var userInputtedMovies=tags9.getEntityTags()
  }
>>>>>>> 8d0e9f2b0cf708be31fa21f9983e6df1e537231c
  
  }

</script>
</div>

{% endblock %}


{% block img1 %}
<img src="static/images/noImage.png">
{% endblock %}


  {% block img2 %}
  <img src="static/images/noImage.png">
  {% endblock %}

 
  {% block img3 %}
  <img src="static/images/noImage.png">
  {% endblock %}
 
  {% block img4 %}
  <img src="static/images/noImage.png">
  {% endblock %}

  {% block img5 %}
  <img src="/static/images/noImage.png">
  {% endblock %}

  {% block img6 %}
  <img src="/static/images/noImage.png">
  {% endblock %}